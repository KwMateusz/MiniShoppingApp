@model List<MiniShoppingApp.Models.CartItem>

<h2 class="text-center my-4">Shopping Cart</h2>

@if (!Model.Any())
{
    <p class="lead text-center">Your cart is empty.</p>
}
else
{
    <table class="table">
        <thead>
        <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Product.Title</td>
                <td>$@item.Product.Price</td>
                <td>@item.Quantity</td>
                <td>$@(item.Product.Price * item.Quantity)</td>
                <td>
                    <div class="d-flex">
                        <button class="btn btn-danger decrease-qty me-2" data-product-id="@item.Product.Id">-</button>
                        <span class="px-3 py-1 border rounded">@item.Quantity</span>
                        <button class="btn btn-primary increase-qty ms-2" data-product-id="@item.Product.Id">+</button>
                    </div>
                </td>
            </tr>
        }
        </tbody>
    </table>

    <h4 class="text-end">Total: <strong>$@ViewBag.TotalPrice</strong></h4>
}